function FixedTop(){var t=$("header #top").width();$("header #top .background").width()!=$("header").width()&&$(".sticky-header").css("background","none"),$(".sticky-header").css("width",t).css("left","50%").css("right","auto").css("margin-left","-"+Math.ceil(t/2)+"px").css("margin-right","-"+Math.ceil(t/2)+"px"),$(window).width()>=1160&&$(window).scrollTop()>280?$(".sticky-header").addClass("fixed-header"):$(".sticky-header").removeClass("fixed-header")}function getURLVar(t){var e=[],a=String(document.location).split("?");if(a[1]){var o=a[1].split("&");for(i=0;i<o.length;i++){var n=o[i].split("=");n[0]&&n[1]&&(e[n[0]]=n[1])}return e[t]?e[t]:""}}$(document).ready(function(){if($("select").wrap("<div class='select'></div>"),$(".mfilter-box").addClass("box-no-advanced"),$(".text-danger").each(function(){var t=$(this).parent().parent();t.hasClass("form-group")&&t.addClass("has-error")}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&"yes"==responsive_design&&$(window).width()<768){var t=0,e=[];$(".box-product .carousel .item").each(function(){$(this).find(".product-grid .row > div").each(function(){t>1&&e.push($(this).html()),t++});for(var a=t-3;a>=0;a--,a--){var o="<div class='item'><div class='product-grid'><div class='row'>";null!=e[a-1]?o+="<div class='col-xs-6'>"+e[a-1]+"</div>":o+="<div class='col-xs-6'>"+e[a+1]+"</div>",null!=e[a]?o+="<div class='col-xs-6'>"+e[a]+"</div>":o+="<div class='col-xs-6'>"+e[a+1]+"</div>",o+="</div></div></div>",$(this).after(o)}e=[],t=0})}$(".button-search, .header-type-3 #top .search_form, .header-type-8 .search_form").bind("click",function(){url=$("base").attr("href")+"index.php?route=product/search";var t=$("header input[name='search']").val();t&&(url+="&search="+encodeURIComponent(t));var e=$("header select[name='category_id']").val();e&&(url+="&category_id="+encodeURIComponent(e)),location=url}),$("header input[name='search']").bind("keydown",function(t){if(13==t.keyCode){url=$("base").attr("href")+"index.php?route=product/search";var e=$("header input[name='search']").val();e&&(url+="&search="+encodeURIComponent(e)),location=url}}),$(window).scroll(function(){$(this).scrollTop()>300?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},600),!1}),$(".button-search2").bind("click",function(){url=$("base").attr("href")+"index.php?route=product/search";var t=$(".container-megamenu input[name='search2']").val();t&&(url+="&search="+encodeURIComponent(t)),location=url}),$(".container-megamenu input[name='search2']").bind("keydown",function(t){if(13==t.keyCode){url=$("base").attr("href")+"index.php?route=product/search";var e=$(".container-megamenu input[name='search2']").val();e&&(url+="&search="+encodeURIComponent(e)),location=url}}),$("[data-toggle='tooltip']").tooltip({container:"body"}),$(document).ajaxStop(function(){$("[data-toggle='tooltip']").tooltip({container:"body"})}),$(".box-with-categories .box-heading").on("click",function(){return $(this).parent().hasClass("active")?$(this).parent().removeClass("active"):$(this).parent().addClass("active"),!1}),$(".vertical #menuHeading").on("click",function(){$(this).parent().hasClass("active")?$(this).parent().removeClass("active"):$(this).parent().addClass("active")}),FixedTop()}),$(window).resize(function(){FixedTop()}),$(window).scroll(function(){FixedTop()});var cart={add:function(t,e){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",success:function(t){t.redirect&&(location=t.redirect),t.success&&($.notify({message:t.success,target:"_blank"},{element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:2031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-success" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;Â—</button><span data-notify="message"><i class="fa fa-check-circle"></i>&nbsp; {2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),$("#cart_block #cart_content").load("index.php?route=common/cart/info #cart_content_ajax"),$("#cart_block #total_price_ajax").load("index.php?route=common/cart/info #total_price"),$("#cart_block .cart-count").load("index.php?route=common/cart/info #total_count_ajax"))}})},update:function(t,e){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"key="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",success:function(t){"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":($("#cart_block #cart_content").load("index.php?route=common/cart/info #cart_content_ajax"),$("#cart_block #total_price_ajax").load("index.php?route=common/cart/info #total_price"),$("#cart_block .cart-count").load("index.php?route=common/cart/info #total_count_ajax"))}})},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",success:function(t){"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":($("#cart_block #cart_content").load("index.php?route=common/cart/info #cart_content_ajax"),$("#cart_block #total_price_ajax").load("index.php?route=common/cart/info #total_price"),$("#cart_block .cart-count").load("index.php?route=common/cart/info #total_count_ajax"))}})}},voucher={add:function(){},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":($("#cart_block #cart_content").load("index.php?route=common/cart/info #cart_content_ajax"),$("#cart_block #total_price_ajax").load("index.php?route=common/cart/info #total_price"),$("#cart_block .cart-count").load("index.php?route=common/cart/info #total_count_ajax"))}})}},wishlist={add:function(t){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){t.success&&$.notify({message:t.success,target:"_blank"},{element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:2031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-success" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;Â—</button><span data-notify="message"><i class="fa fa-check-circle"></i>&nbsp; {2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),t.info&&$.notify({message:t.info,target:"_blank"},{element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:2031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-info" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;Â—</button><span data-notify="message"><i class="fa fa-info"></i>&nbsp; {2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),$("#wishlist-total").html(t.total)}})},remove:function(){}},compare={add:function(t){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){t.success&&($.notify({message:t.success,target:"_blank"},{element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:2031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-success" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;Â—</button><span data-notify="message"><i class="fa fa-check-circle"></i>&nbsp; {2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),$("#compare-total").html(t.total))}})},remove:function(){}};function openPopup(t,e){e=e||void 0,$.magnificPopup.open({items:{src:"index.php?route=extension/module/popup/show&module_id="+t+(e?"&product_id="+e:"")},mainClass:"popup-module mfp-with-zoom",type:"ajax",removalDelay:200})}$(document).delegate(".agree","click",function(t){t.preventDefault(),$("#modal-agree").remove();var e=this;$.ajax({url:$(e).attr("href"),type:"get",dataType:"html",success:function(t){html='<div id="modal-agree" class="modal fade">',html+='  <div class="modal-dialog">',html+='    <div class="modal-content">',html+='      <div class="modal-header">',html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>',html+='        <h4 class="modal-title">'+$(e).text()+"</h4>",html+="      </div>",html+='      <div class="modal-body">'+t+"</div>",html+="    </div",html+="  </div>",html+="</div>",$("body").append(html),$("#modal-agree").modal("show")}})}),function(t){function e(e,a){this.element=e,this.options=a,this.timer=null,this.items=new Array,t(e).attr("autocomplete","off"),t(e).on("focus",t.proxy(this.focus,this)),t(e).on("blur",t.proxy(this.blur,this)),t(e).on("keydown",t.proxy(this.keydown,this)),t(e).after('<ul class="dropdown-menu"></ul>'),t(e).siblings("ul.dropdown-menu").delegate("a","click",t.proxy(this.click,this))}e.prototype={focus:function(){this.request()},blur:function(){setTimeout(function(t){t.hide()},200,this)},click:function(e){e.preventDefault(),value=t(e.target).parent().attr("data-value"),value&&this.items[value]&&this.options.select(this.items[value])},keydown:function(t){switch(t.keyCode){case 27:this.hide();break;default:this.request()}},show:function(){var e=t(this.element).position();t(this.element).siblings("ul.dropdown-menu").css({top:e.top+t(this.element).outerHeight(),left:e.left}),t(this.element).siblings("ul.dropdown-menu").show(),t(this).siblings("ul.dropdown-menu").css("opacity","1"),t(this).siblings("ul.dropdown-menu").css("visibility","visible")},hide:function(){t(this.element).siblings("ul.dropdown-menu").hide()},request:function(){clearTimeout(this.timer),this.timer=setTimeout(function(e){e.options.source(t(e.element).val(),t.proxy(e.response,e))},200,this)},response:function(e){if(html="",e.length){for(i=0;i<e.length;i++)this.items[e[i].value]=e[i];for(i=0;i<e.length;i++)e[i].category||(html+='<li data-value="'+e[i].value+'"><a href="#">'+e[i].label+"</a></li>");var a=new Array;for(i=0;i<e.length;i++)e[i].category&&(a[e[i].category]||(a[e[i].category]=new Array,a[e[i].category].name=e[i].category,a[e[i].category].item=new Array),a[e[i].category].item.push(e[i]));for(i in a)for(html+='<li class="dropdown-header">'+a[i].name+"</li>",j=0;j<a[i].item.length;j++)html+='<li data-value="'+a[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+a[i].item[j].label+"</a></li>"}html?this.show():this.hide(),t(this.element).siblings("ul.dropdown-menu").html(html)}},t.fn.autocomplete=function(a){return this.each(function(){var o=t(this).data("autocomplete");o||(o=new e(this,a),t(this).data("autocomplete",o))})}}(window.jQuery);
